<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Таблица умножения</title>
    
    <script type="module" crossorigin>
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();let a=[...Array(64)].map(()=>"");function i(){let t=document.createElement("div");t.className="button-block";let e=document.createElement("div");return e.append(s(),d()),t.append(e),e=document.createElement("div"),e.append(m()),t.append(e),t}function s(){let t=document.createElement("button");t.className="button",t.append("Случайное поле");const e=()=>{let n=document.querySelectorAll(".input-cell:not(.correct)");p(n).focus()};return t.addEventListener("click",e),t}function d(){let t=document.createElement("button");t.className="button",t.append("Сброс");const e=()=>{let n=document.querySelectorAll(".input-cell"),r=!0;for(let o of n)r&&(r=o.value=="");if(r)return;a=Array.prototype.map.call(n,o=>o.value),n.forEach(o=>{o.value="",o.classList.remove("correct","incorrect")});let l=document.querySelector(".restore-button");l.style.display="block",document.addEventListener("input",()=>{l.style.display="none"},{once:!0})};return t.addEventListener("click",e),t}function m(){let t=document.createElement("button");t.className="button restore-button",t.append("Восстановить");const e=()=>{document.querySelectorAll(".input-cell").forEach((r,l)=>{r.value=a[l],r.dispatchEvent(new Event("input"))}),t.style.display="none"};return t.addEventListener("click",e),t}function p(t){let e=0,n=t.length,r=Math.floor(Math.random()*(n-e)+e);return t[r]}const f=document.getElementById("app"),b=y();document.addEventListener("keydown",L);f.prepend(b,i());function y(){let t=document.createElement("div");t.className="table",t.append(...E());for(let e=2;e<10;e++)t.append(...v(e));return t}function v(t){let e=[];e.push(u(t));for(let n=2;n<10;n++)e.push(h(n,t));return e}function E(){let t=[],e=document.createElement("div");e.className="cell",t.push(e);for(let n=2;n<10;n++){let r=u(n);t.push(r)}return t}function u(t){let e=document.createElement("div");return e.classList.add("cell"),e.append(t.toString()),e}function h(t,e){const n=`${t*e}`;let r=document.createElement("input");r.type="text",r.inputMode="numeric",r.className="input-cell",r.dataset.x=t,r.dataset.y=e;const l=o=>{const c=o.target.value;c==""?r.classList.remove("correct","incorrect"):c==n?(r.classList.add("correct"),r.classList.remove("incorrect")):(r.classList.add("incorrect"),r.classList.remove("correct"))};return r.oninput=l,r}function k(t,e){return document.querySelector(`.input-cell[data-x="${t}"][data-y="${e}"]`)}function L(t){if(!document.activeElement.classList.contains("input-cell"))return;let{x:e,y:n}=document.activeElement.dataset;switch(e=Number(e),n=Number(n),t.key){case"ArrowDown":if(n==9)return;n+=1;break;case"ArrowUp":if(n==2)return;n-=1;break;case"ArrowLeft":if(e==2)return;e-=1;break;case"ArrowRight":if(e==9)return;e+=1;break;default:return}k(e,n).focus()}

</script>
    <style>
*{box-sizing:border-box}body{background-color:#6ebef7}#app{display:flex;flex-direction:column;align-items:center;font-weight:700;color:#fff}.table{display:grid;grid-template-columns:repeat(9,2.5rem);grid-template-rows:repeat(9,2.5rem);margin-bottom:20px}.cell,.input-cell{border-right:5px solid white;border-bottom:5px solid white}.cell{display:flex;justify-content:center;align-items:center;padding:.5rem;text-align:center}.input-cell{border-top:0;border-left:0;outline:none;margin:0;font:inherit;text-align:center;padding:0;line-height:calc(2.5rem - 2px);background-color:transparent;font-weight:700;color:#fff}.button-block{display:flex;flex-direction:column;gap:1rem}.button-block div:nth-child(1){display:flex;gap:1rem}.button-block div:nth-child(2){flex-grow:1;position:relative}.button-block div:nth-child(2) button{width:100%;display:none}.button{border:2.5px solid white;background-color:transparent;font-weight:700;color:#fff;font-size:1.25rem}.correct,.correct input{background-color:#6ef76e}.incorrect,.incorrect input{background-color:#f76e6e}

</style>
  </head>
  <body>
    <div id="app" />
  </body>
</html>
